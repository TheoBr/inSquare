<html>
  <head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="style.css"> 
    <title>inColor configuration</title>
  </head>
<body>

    <div class="title">inColor (Pre-Alpha)</div>

    <div class="settingsFrame">
      <div class="settings">
      <p>Settings!</p>
      <p>Mode:
      <select id="KEY_MODE">
        <option value="0">Normal</option>
        <option value="1">Inverted</option>
        <option value="2">Split</option>
      </select>
      </p>

      <p>Vibrate on Bluetooth Disconnect:
      <select id="KEY_BTV">
        <option value="0">No</option>
        <option value="1">Yes</option>
      </select>
      </p>
  
      <p>
      </p>
    </div>
    <br><br>
    <div class="save_button"> <button id="save_button">Save</button> </div>
    </div>

  <div class="footer">Created by Theo Browne and Greg Bartell</div>

</body>

  <script>
    //Setup to allow easy adding more options later
    function saveOptions() {
      var KEY_MODE = document.getElementById("KEY_MODE");
      var KEY_BTV = document.getElementById("KEY_BTV");

      var options = {
        "KEY_MODE": KEY_MODE.options[KEY_MODE.selectedIndex].value,
        "KEY_BTV": KEY_BTV.options[KEY_BTV.selectedIndex].value,
      }
       
      return options;
    };
   
    var submitButton = document.getElementById("save_button");
    submitButton.addEventListener("click", 
      function() {
        console.log("Submit");
   
        var options = saveOptions();
        var location = "pebblejs://close#" + encodeURIComponent(JSON.stringify(options));
         
        document.location = location;
      }, 
    false);
  </script>

</html>
